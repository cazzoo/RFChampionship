{#  //RF//Championship is a multi-racing game team manager that allows members to organize and follow championships.
    Copyright (C) 2014 - //Racing-France//

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program.  If not, see <http://www.gnu.org/licenses/>. #}

{% extends "RFCAdminBundle::layout.html.twig" %}
{% block javascripts %}
    {{ parent() }} {% javascripts 'RFCAdminJS' %}
    <script src="{{asset('js/forms.behiavior.js') }}"></script>
    {% endjavascripts %}
{% endblock %} 
{% block title %} Admin - {{ parent() }}{% endblock %}

{% block rfccore_body %}
<div class="panel panel-default">
    <div class="panel-heading">
        Meta rules &nbsp;
        <a class="btn btn-inverse btn-xs" role="button"
			href="{{ path('admin_metaRule_new', {'gameId' : gameId}) }}">
            <span class="glyphicon glyphicon-plus"></span>
		</a>
    </div>
    <div class="panel-body">
        <div class="row">
        	<div class="col-md-5">
        		<div class="list-group">
        			{% for metaRule in metaRules %}
        			<div class="row">
        				<div class="col-md-10">
        					<div id="metaRule_{{ metaRule.id }};game_{{ game[0].id }}"
        						class="metaRuleItem list-group-item active">
        						<h4 class="list-group-item-heading">{{ metaRule.name }}</h4>
        						<p class="list-group-item-text">{{ metaRule.description }}</p>
        						<div class="editZone">
        							<a
        								href="{{ path('admin_metaRule_edit', {'metaRuleId' : metaRule.id, 'gameId' : gameId}) }}">
        								<span class="glyphicon glyphicon-edit"></span>&nbsp;Editer
        							</a>
        						</div>
        					</div>
        				</div>
        				<div class="col-md-2">
        					<ul class="list-unstyled">
        						<li><a class="btn btn-info btn-xs" role="button"
        							href="{{ path('admin_metaRule_show', {'metaRuleId' : metaRule.id, 'gameId' : gameId }) }}">
        								<span class="glyphicon glyphicon-eye-open"></span>
        						</a></li>
        						<li><a class="btn btn-primary btn-xs" role="button"
        							href="{{ path('admin_metaRule_edit', {'metaRuleId' : metaRule.id, 'gameId' : gameId}) }}"><span
        								class="glyphicon glyphicon-edit"></span></a></li>
        					</ul>
        				</div>
        			</div>
        			{% endfor %}
        		</div>
        	</div>
        	<div class="col-md-7">
        		<ul class="list-group" id="listRules">{# Colonne 2 : Rules #} {%
        			include 'RFCAdminBundle:Rule:list.html.twig' with {'rules' : rules,
        			'game' : game, 'metaRuleId' : null} %}
        		</ul>
        	</div>
        </div>
    </div>
</div>
    <hr />
<div class="panel panel-default">
    <div class="panel-heading">
        List all rules &nbsp;
        <a class="btn btn-inverse btn-xs" role="button"
			href="{{ path('admin_rule_new', {'gameId' : gameId}) }}">
            <span class="glyphicon glyphicon-plus"></span>
		</a>
    </div>
    <div class="panel-body">
    	{% include 'RFCAdminBundle:Rule:list.html.twig' with {'rules' : rules, 'game' : game} %}
    </div>
</div>
{% endblock %}
