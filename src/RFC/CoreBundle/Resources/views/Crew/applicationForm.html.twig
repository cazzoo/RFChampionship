{#  //RF//Championship is a multi-racing game team manager that allows members to organize and follow championships.
    Copyright (C) 2014 - //Racing-France//

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program.  If not, see <http://www.gnu.org/licenses/>. #}

{# src/RFC/CoreBundle/Resources/views/Crew/applicationForm.html.twig #}

{% if userState == 0 %}

    <div class="ui grid">
        <div class="four wide column">
            <p>
                You're not part in any crew.<br />
                Select a member as a manager to be part of his crew.
            </p>
        </div>
        <div class="four wide column"></div>
        <div class="four wide column"></div>
        <div class="four wide column">
            <div class="ui segment">
                <form id="sendCrewRequest">
                    <input type="hidden" id="requesterId" value="{{ app.user.id }}" />
                    <input type="hidden" id="gameId" value="{{ game.id }}" />
                    <select id="managerId">
                        {% for user in users %}
                            {% if user.id != app.user.id %}
                                <option value="{{ user.id }}">{{ user.userName }}</option>
                            {% endif %}
                        {% endfor %}
                    </select>
                    <button class="ui button">Send request</button>
                </form>
            </div>
        </div>
    </div>

{% endif %}

{% if userState == 1 %}

    <div class="ui grid">
        <div class="four wide column">
            <p>
                You asked to being part of <strong>{{ crew.manager.userName }}</strong>'s crew but your request is not accepted yet.
            </p>
        </div>
        <div class="four wide column"></div>
        <div class="four wide column"></div>
        <div class="four wide column">
            <div class="ui segment">
                <a class="ui right floated red icon mini button crewRetire" data-crewrequestid="{{ app.user.getLastCrewRequest(crew.id).id }}" ><i class="remove icon"></i>Cancel request</a>
            </div>
        </div>
    </div>

{% endif %}